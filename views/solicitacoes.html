<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solicitações - EDUCA MENTE</title>
    <link rel="shortcut icon" href="img/faviconeducamente.ico" type="image/x-icon">

    <!-- Fontes do Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/style_solicitacoes.css">

    <style>
            </style>

</head>
<body>
    <nav class="navbar">
      <div class="container navbar-container">
        <a href="/painel" class="navbar-brand">Educa Mente</a>
        <ul class="navbar-menu">
          <li class="navbar-item"> <a href="/painel" class="navbar-link" data-tooltip="Ir para o Painel Principal" data-tooltip-type="info"> <span class="navbar-icon" id="icon-home"></span> <span>Painel</span> </a> </li>
          <li class="navbar-item"> <a href="/historico" class="navbar-link" data-tooltip="Visualizar Histórico de Atendimentos e Alunos" data-tooltip-type="info"> <span class="navbar-icon" id="icon-history"></span> <span>Histórico</span> </a> </li>
          <li class="navbar-item"> <a href="/solicitacoes" class="navbar-link active" data-tooltip="Gerenciar Solicitações" data-tooltip-type="info"> <span class="navbar-icon" id="icon-requests"></span> <span>Solicitações</span> </a> </li>
        </ul>

        <div class="navbar-right-controls">
            <div class="dark-mode-toggle-wrapper">
              <i class="fas fa-sun" id="icon-sun" data-tooltip="Alternar para Modo Claro" data-tooltip-type="warning"></i>
              <i class="fas fa-moon" id="icon-moon" data-tooltip="Alternar para Modo Escuro" data-tooltip-type="info"></i>
              <label class="switch" data-tooltip="Ativar/Desativar Modo Escuro" data-tooltip-type="default">
                <input type="checkbox" id="toggle-dark-mode">
                <span class="slider"></span>
              </label>
            </div>
            <a href="/" class="navbar-logout-button" id="logout-nav-link" data-tooltip="Sair (deslogar)" data-tooltip-type="danger">
              <i class="fas fa-sign-out-alt"></i>
            </a>
        </div>

      </div>
    </nav>

    <main class="main-content">
      <div class="container">
        <div class="page-header"> <h1 class="page-title">Solicitações</h1> <p class="page-subtitle">Gerencie as solicitações de atendimento</p> </div>
        <div class="card">
          <div class="card-header"> <h2 class="card-title">Gerenciamento de Solicitações</h2> </div>
          <div class="card-body">
            <div class="tabs">
                <div class="tab active" data-tab="pending" data-tooltip="Ver solicitações pendentes de aprovação ou agendamento" data-tooltip-type="warning">Pendentes</div>
                <div class="tab" data-tab="upcoming" data-tooltip="Ver atendimentos que já foram agendados" data-tooltip-type="info">Próximos Atendimentos</div>
                <div class="tab" data-tab="rejected" data-tooltip="Ver solicitações que foram rejeitadas" data-tooltip-type="danger">Rejeitadas</div>
                <div class="tab" data-tab="completed" data-tooltip="Ver atendimentos que já foram finalizados" data-tooltip-type="success">Finalizados</div>
            </div>

            <div class="tab-content active" id="tab-pending">
              <header class="header"> <h1>Lista de Solicitações Ativas</h1> <a class="btn-primary" href="/formulario" data-tooltip="Criar uma nova solicitação de atendimento">Nova Solicitação</a> </header>
              <section class="search-filter-section">
                <div class="search-bar-container"> <i class="fas fa-search"></i> <input type="text" id="search-input" placeholder="Pesquisar em Aluno ou Curso..." data-tooltip="Digite para pesquisar por nome do aluno ou curso" data-tooltip-type="default"> </div>
                <div class="filter-buttons-container">
                  <div class="filter-button-wrapper"> <button class="filter-button" data-controls="unidade-dropdown" data-tooltip="Filtrar por unidade escolar" data-tooltip-type="secondary"><i class="fas fa-building"></i><span id="unidade-btn-text">Unidade</span><i class="fas fa-caret-down"></i></button> <div class="filter-dropdown" id="unidade-dropdown"> <a href="#" class="filter-option" data-filter-type="unidade" data-filter-value="all">Mostrar Todas</a> <a href="#" class="filter-option" data-filter-type="unidade" data-filter-value="SENAI Lauro de Freitas">SENAI Lauro de Freitas</a> <a href="#" class="filter-option" data-filter-type="unidade" data-filter-value="SENAI CIMATEC">SENAI CIMATEC</a> <a href="#" class="filter-option" data-filter-type="unidade" data-filter-value="SENAI Camaçari">SENAI Camaçari</a> <a href="#" class="filter-option" data-filter-type="unidade" data-filter-value="SENAI Dendezeiros">SENAI Dendezeiros</a> <a href="#" class="filter-option" data-filter-type="unidade" data-filter-value="SENAI Alagoinhas">SENAI Alagoinhas</a> </div> </div>
                  <div class="filter-button-wrapper"> <button class="filter-button" data-controls="data-dropdown" data-tooltip="Ordenar lista por data de envio da solicitação" data-tooltip-type="secondary"><i class="far fa-calendar-alt"></i><span id="data-btn-text">Data de Envio</span><i class="fas fa-caret-down"></i></button> <div class="filter-dropdown" id="data-dropdown"> <a href="#" class="sort-option" data-sort-order="desc">Mais recentes</a> <a href="#" class="sort-option" data-sort-order="asc">Mais antigos</a> </div> </div>
                </div>
              </section>
              <main class="table-container">
                <table>
                  <thead> <tr> <th>#</th> <th>Aluno</th> <th>Curso</th> <th>Unidade</th> <th>Telefone</th> <th>Data de Envio</th> <th>Status</th> <th>Ações</th> </tr> </thead>
                  <tbody id="solicitacoes-tbody">
                    <!-- Linhas da tabela geradas por JS -->
                  </tbody>
                </table>
                <div id="no-results-message" style="display: none; text-align: center; padding: 2rem; color: #6c757d;">Nenhuma solicitação encontrada com os filtros atuais.</div>
                <div id="no-pending" style="display: none; text-align: center; padding: 2rem; color: #6c757d;">Nenhuma solicitação ativa encontrada.</div>
              </main>
            </div>

            <div class="tab-content" id="tab-upcoming">
                 <header class="header"> <h1>Próximos Atendimentos Agendados</h1> </header>
                 <div id="upcoming-list" class="upcoming-cards-container"></div>
                 <div id="no-upcoming" style="display: none; text-align: center; padding: 2rem; color: #6c757d;">
                     Nenhum próximo atendimento agendado.
                 </div>
            </div>

            <div class="tab-content" id="tab-rejected">
                 <header class="header"> <h1>Solicitações Rejeitadas</h1> </header>
                 <div id="rejected-list" class="rejected-cards-container"></div>
                 <div id="no-rejected" style="display: none; text-align: center; padding: 2rem; color: #6c757d;">
                     Nenhuma solicitação rejeitada encontrada.
                 </div>
            </div>

            <div class="tab-content" id="tab-completed">
              <header class="header"> <h1>Lista de Atendimentos Finalizados</h1> </header>
              <div id="completed-list" class="completed-cards-container" style="display: grid;"></div> <!-- Alterado para display: grid por padrão -->
              <div id="no-completed" style="display: none;" class="text-center py-12 text-gray-500">Nenhuma solicitação finalizada encontrada.</div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer"> <div class="container footer-content"> <p class="footer-text"> © 2025 Educa Mente - Sistema de Gestão para Psicopedagogos</p> </div> </footer>

    <script src="js/icons.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/solicitacoes.js"></script>
    <script src="js/solicitacoes_card.js"></script>
    
</body>
</html>